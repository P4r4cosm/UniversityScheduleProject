{
  "name": "neo4j-sink-connector",
  "config": {
    "connector.class": "org.neo4j.connectors.kafka.sink.Neo4jConnector",
    "tasks.max": "1",
    "topics": "university_schedule_pg_server.public.Universities,university_schedule_pg_server.public.Institutes,university_schedule_pg_server.public.Departments,university_schedule_pg_server.public.Groups,university_schedule_pg_server.public.Students,university_schedule_pg_server.public.Courses,university_schedule_pg_server.public.Lectures,university_schedule_pg_server.public.Schedules,university_schedule_pg_server.public.Visits,university_schedule_pg_server.public.Specialities,university_schedule_pg_server.public.Users,university_schedule_pg_server.public.Materials",
    "neo4j.server.uri": "bolt://neo4j:7687",
    "neo4j.authentication.basic.username": "neo4j",
    "neo4j.authentication.basic.password": "61323F1nigan",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Universities": "MERGE (n:University {id: event.id}) SET n.name = event.name, n.city = event.city",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Institutes": "MERGE (i:Institute {id: event.id}) SET i.name = event.name WITH i MATCH (u:University {id: event.universityid}) MERGE (i)-[:BELONGS_TO]->(u)",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Departments": "MERGE (d:Department {id: event.id}) SET d.name = event.name WITH d MATCH (i:Institute {id: event.instituteid}) MERGE (d)-[:BELONGS_TO]->(i)",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Groups": "MERGE (g:Group {id: event.id}) SET g.name = event.name, g.startyear = event.startyear, g.endyear = event.endyear WITH g MATCH (d:Department {id: event.departmentid}) MERGE (g)-[:BELONGS_TO]->(d)",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Students": "MERGE (s:Student {id: event.id}) SET s.fullname = event.fullname, s.dateofrecipient = event.dateofrecipient WITH s MATCH (g:Group {id: event.groupid}) MERGE (s)-[:BELONGS_TO]->(g)",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Courses": "MERGE (c:Course {id: event.id}) SET c.name = event.name",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Lectures": "MERGE (l:Lecture {id: event.id}) SET l.name = event.name, l.year = event.year WITH l MATCH (c:Course {id: event.courseid}) MERGE (l)-[:PART_OF]->(c)",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Schedules": "MERGE (s:Schedule {id: event.id}) SET s.starttime = event.starttime, s.endtime = event.endtime WITH s MATCH (g:Group {id: event.groupid}) MERGE (s)-[:FOR_GROUP]->(g) WITH s MATCH (l:Lecture {id: event.lectureid}) MERGE (s)-[:IS_LECTURE]->(l)",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Visits": "MATCH (st:Student {id: event.studentid}), (sc:Schedule {id: event.scheduleid}) MERGE (st)-[r:ATTENDED]->(sc) SET r.id = event.id, r.visittime = event.visittime",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Specialities": "MERGE (s:Speciality {id: event.id}) SET s.name = event.name, s.code = event.code",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Users": "MERGE (u:User {id: event.id}) SET u.username = event.username",
    "neo4j.topic.cypher.university_schedule_pg_server.public.Materials": "MERGE (m:Material {id: event.id})",
    "key.converter": "org.apache.kafka.connect.json.JsonConverter",
    "key.converter.schemas.enable": "false",
    "value.converter": "org.apache.kafka.connect.json.JsonConverter",
    "value.converter.schemas.enable": "false",
    "errors.retry.timeout": "-1",
    "errors.retry.delay.max.ms": "1000",
    "errors.tolerance": "all",
    "errors.log.enable": "true",
    "errors.log.include.messages": "true"
  }
} 